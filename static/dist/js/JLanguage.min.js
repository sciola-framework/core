class JLanguage{cache(t){return JSON.parse(sessionStorage.getItem(t))||{}}translate(t){var e=this.cache($_.document.lang);return e[t]?e[t]:t}translate_route(t){Object.prototype.getKey=function(t){for(let e in this)if(this[e]==t)return e;return""};var e=e=>this.cache(t.language)[e]||this.cache($_.document.lang).getKey(e),a=t.path.split("/"),n=a.length;if(a[1]){t.path="";for(let r=0;r<=n;r++)a[r]&&(t.path+="/"+(e(a[r])||a[r]));return t.path}return e(t.path)||t.path}change(t){"en"!==t&&null===sessionStorage.getItem(t)&&$_.http.request("/?lang="+t,(e,a)=>(sessionStorage.setItem(t,JSON.stringify(a.data)),this.change(t))),$_.http.request("/?language="+t,(e,a)=>{e&&console.log(e),window.location.href=this.translate_route({language:t,path:window.location.pathname.substring(1)})})}}
