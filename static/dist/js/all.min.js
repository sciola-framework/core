class JElement{id(e){return document.getElementById(e)}resize(e){var t=e.contentWindow.document;e.style.height=t.documentElement.scrollHeight+"px"}}class JFile{include(e){if("string"===type_of(e)){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)}else"array"===type_of(e)&&this.includeMulti(e)}includeMulti(e){var t=[],a="";$("head script").each(function(e){t[e]=$(this).attr("src")}),$(e).each((e,i)=>{a=i,$(t).each((e,t)=>{if(i===t)return a="",!1}),""!==a&&this.include(a)})}}class JHttp{constructor(){$(document).on("click","a.ajax",function(t){t.target.href&&$_.http.request(t.target.href,(t,e)=>{$_.document.html(e.data),$("body").html($("body").html())}),t.preventDefault()}),$(document).on("submit","form.ajax",function(t){$_.http.request(t.target.action,$(this).serialize(),(t,e)=>{$(this).attr("return")?(e.reset=()=>$(this).trigger("reset"),window[$(this).attr("return")](t,e)):($_.document.html(e.data),$("body").html($("body").html()))}),t.preventDefault()})}get(t,e=null){var a={};try{let r=new URL(t);a.baseURL=r.protocol+"//"+r.host,t=t.split(a.baseURL)[1]}catch(n){}return axios.create(a).get(t).then(t=>e?e(!1,t.data):t.data).catch(t=>e?e(!0,t.response):t.response)}request(t,e=null,a=null){let r="get",n={};"function"===type_of(e)?(a=e,e=null):"object"===type_of(e)&&(r="post"),axios.defaults.headers.common.Ajax=!0,axios[r](t,e).then(t=>{n=t}).catch(t=>{n=t.response,t=!0}).finally(()=>{a(!1,n)})}}class JDocument{constructor(){return this.doc=document,this.doc.lang=this.doc.documentElement.lang,this.doc.ready=t=>this.ready(t),this.doc.on=(t,e)=>this.on(t,e),this.doc.html=t=>this.html(t),this.doc.height=()=>this.height(),this.doc.width=()=>this.width(),this.doc.error=()=>this.error(callback),this.doc}ready(t){this.doc.addEventListener("DOMContentLoaded",function(e){t(e)})}on(t,e){this.doc.addEventListener(t,function(t){e(t)})}html(t){this.doc.documentElement.innerHTML=t}height(){return window.innerHeight||this.doc.documentElement.clientHeight||this.doc.body.clientHeight||this.doc.body.offsetHeight}width(){return window.innerWidth||this.doc.documentElement.clientWidth||this.doc.body.clientWidth||this.doc.body.offsetWidth}error(t){window.onerror=function(e,i,o,h,d){let n={};return n.message=e,n.file=i,n.line=o,n.col=h,n.error=d,t(n)}}}class JTime{sleep(e){for(e=new Date().getTime()+1e3*e;new Date().getTime()<e;);}}class JLanguage{constructor(){$(document).on("click",".dropdown-language",t=>{t.preventDefault(),this.change(t.target.text.trim())})}cache(t){return JSON.parse(sessionStorage.getItem(t))||{}}translate(t){var e=this.cache($_.document.lang);return e[t]?e[t]:t}translate_route(t){Object.prototype.getKey=function(t){for(let e in this)if(this[e]==t)return e;return""};var e=e=>this.cache(t.language)[e]||this.cache($_.document.lang).getKey(e),a=t.path.split("/"),n=a.length;if(a[1]){t.path="";for(let r=0;r<=n;r++)a[r]&&(t.path+="/"+(e(a[r])||a[r]));return t.path}return e(t.path)||t.path}change(t){"en"!==t&&null===sessionStorage.getItem(t)&&$_.http.request("/?lang="+t,(e,a)=>{e&&console.log(e),sessionStorage.setItem(t,JSON.stringify(a.data))}),$_.http.request("/?language="+t,(t,e)=>{t&&console.log(t),window.location.href="/"})}}class Sciola{constructor(){window.$_=[],window.global=window,global.type_of=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),window.module||(global.module={},module.exports=null)}init(){$_.document=new JDocument,$_.http=new JHttp,$_.file=new JFile,$_.language=new JLanguage,$_.element=new JElement,$_.event=new JEvent,$_.time=new JTime,$_.component=new JComponent,$_.document.ready(function(){$_.component.navbar(),$_.component.navbar().effect("dark-to-light")}),$_.document.ready(function(){$("[onload]").trigger("onload")})}}class JBox{constructor(s){return this.box(s[0],s[1],s[2],s[3],s[4])}box(s,t="primary",e=!1,a="",o="#box"){$_.element.id(o.split("#")[1]).innerHTML='<div class="alert alert-'+t+" alert-dismissible fade show m-0 "+a+'" role="alert"><span class="text-wrap">'+s+"</span>"+(e?'<button type="button" class="btn-close outline-none box-shadow-none" data-bs-dismiss="alert"></button>':"")+"</div>"}}class JEvent{on(n,o,c){$(document).on(n,o,function(n){c(n)})}}class JNavbar{constructor(){$(".navbar")[0]&&(this.navbar=Math.round($(".navbar").outerHeight(!0)),$(".navbar.fixed-top")[0]&&$("body").css("padding-top",this.navbar+"px"),$_.document.on("click",function(a){"true"==$(".navbar .navbar-toggler").attr("aria-expanded")&&0===$(a.target).closest(".navbar").length&&$('button[aria-expanded="true"]').click()}))}effect(a){var r=document.querySelector(".navbar-effect");if("dark-to-light"===a&&r){var e=r.querySelector(".navbar-brand"),s=e.querySelector(".dark-brand"),t=e.querySelector(".light-brand");window.addEventListener("scroll",()=>{window.scrollY>this.navbar?(s.classList.remove("d-none"),t.classList.add("d-none"),r.classList.remove("navbar-dark"),r.classList.remove("bg-dark"),r.classList.add("navbar-light"),r.classList.add("bg-white")):(t.classList.remove("d-none"),s.classList.add("d-none"),r.classList.remove("navbar-light"),r.classList.remove("bg-white"),r.classList.add("navbar-dark"),r.classList.add("bg-dark"))})}}}class JDialog{alert(a,e=null){let c={centerVertical:!0,closeButton:!1,message:a,buttons:{ok:{label:this.icon("close")+" "+$_.language.translate("Close"),className:"btn-secondary"}}};null!==e&&(c.callback=a=>e(a)),bootbox.alert(c)}confirm(a,e){bootbox.confirm({centerVertical:!0,closeButton:!1,message:a,buttons:{cancel:{label:this.icon("close")+" "+$_.language.translate("Cancel"),className:"btn-danger"},confirm:{label:this.icon("check")+" "+$_.language.translate("Confirm"),className:"btn-success"}},callback:a=>e(a)})}icon(a,e=null){return`<i class="${({success:"fas fa-check-circle text-success",info:"fas fa-info-circle text-info",warning:"fa fa-exclamation-triangle text-warning",danger:"fas fa-times-circle text-danger",close:"fa fa-times-circle",plus:"fa fa-plus",edit:"fa fa-edit",trash:"fa fa-trash",check:"fa fa-check",search:"fa fa-search",square:"fas fa-square","check-square":"fas fa-check-square"})[a]}${e=e?" fa-"+e:""} me-2"></i>`}}class JComponent{constructor(){this.box=(...i)=>new JBox(i),this.dialog=new JDialog,this.navbar=()=>new JNavbar,this.icon=i=>this.dialog.icon(i)}}
