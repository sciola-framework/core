class JHttp{constructor(){$(document).on("click","a.ajax",function(t){t.target.href&&$_.http.request(t.target.href,(t,e)=>{$_.document.html(e.data),$("body").html($("body").html())}),t.preventDefault()}),$(document).on("submit","form.ajax",function(t){$_.http.request(t.target.action,$(this).serialize(),(t,e)=>{$(this).attr("return")?(e.reset=()=>$(this).trigger("reset"),window[$(this).attr("return")](t,e)):($_.document.html(e.data),$("body").html($("body").html()))}),t.preventDefault()})}get(t,e=null){var a={};try{let r=new URL(t);a.baseURL=r.protocol+"//"+r.host,t=t.split(a.baseURL)[1]}catch(n){}return axios.create(a).get(t).then(t=>e?e(!1,t.data):t.data).catch(t=>e?e(!0,t.response):t.response)}request(t,e=null,a=null){let r="get",n={};"function"===type_of(e)?(a=e,e=null):"object"===type_of(e)&&(r="post"),axios.defaults.headers.common.Ajax=!0,axios[r](t,e).then(t=>{n=t}).catch(t=>{n=t.response,t=!0}).finally(()=>{a(!1,n)})}}